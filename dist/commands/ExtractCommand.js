import{existsSync as t,mkdirSync as o,readFileSync as r,writeFileSync as e}from"node:fs";import{basename as i,dirname as c,normalize as f}from"node:path";import{fatal as m}from"@triforce-heroes/triforce-core";import{extract as s}from"../Extract.js";export function ExtractCommand(n,a){t(n)||m(`File not found: ${n}`);let p=c(n),d=i(n,".sarc"),$=f(a??`${p}/${d}`);for(let t of(process.stdout.write(`Extracting ${f(n)} to ${$}... `),s(r(n)))){let r=`${$}/${t.name}`;o(c(r),{recursive:!0}),e(r,t.data)}process.stdout.write("OK\n")}