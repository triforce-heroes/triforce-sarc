import{existsSync as o,mkdirSync as t,readFileSync as r,writeFileSync as e}from"node:fs";import{basename as i,dirname as s,normalize as c}from"node:path";import{fatal as f}from"@triforce-heroes/triforce-core/Console";import{extract as m}from"../Extract.js";export function ExtractCommand(n,a){o(n)||f(`File not found: ${n}`);let p=s(n),d=i(n,".sarc"),$=c(a??`${p}/${d}`);for(let o of(process.stdout.write(`Extracting ${c(n)} to ${$}... `),m(r(n)))){let r=`${$}/${o.name}`;t(s(r),{recursive:!0}),e(r,o.data)}process.stdout.write("OK\n")}